(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const m=document.querySelector("#app"),x=document.querySelector("#btn"),h=(o,t)=>{const n=o.nextElementSibling;t.animate({transform:"scale(1.2)",boxShadow:"0 0 15px 3px rgba(0, 0, 0, 1)",border:"1px #222"},{duration:200,fill:"forwards",easing:"ease"}).onfinish=()=>{o.animate({transform:"scale(0)",boxShadow:"0px 0px 0px 0px rgba(0, 0, 0, 0)",border:"0px"},{duration:400,fill:"forwards",easing:"ease"}),t.animate({transform:"scale(0)",boxShadow:"0px 0px 0px 0px rgba(0, 0, 0, 0)",border:"0px"},{duration:400,fill:"forwards",easing:"ease"}).onfinish=()=>{var a,e;(a=t.parentNode)==null||a.insertBefore(o,t),(e=o.parentNode)==null||e.insertBefore(t,n),t.animate({transform:"scale(1)"},{duration:400,fill:"forwards",easing:"ease"}),o.animate({transform:"scale(1)"},{duration:400,fill:"forwards",easing:"ease"})}}};x.onclick=()=>{const o=Math.round(i*c/4);for(let t=0;t<o;t++){const n=Math.floor(Math.random()*i),a=Math.floor(Math.random()*c),e=d[a][n],r=d[Math.floor(Math.random()*c)][Math.floor(Math.random()*i)];h(e,r)}};const s=new Image,i=24,c=13,l=50;let p=!1,u;const d=[],g=o=>{const t=o.target;p?(h(u,t),p=!1):(t.animate({transform:"scale(1.2)",boxShadow:"0 0 15px 3px rgba(0, 0, 0, 1)",border:"1px #222"},{duration:200,easing:"ease",fill:"forwards"}),p=!0,u=t)};s.onload=()=>{for(let o=0;o<c;o++){d[o]=[];for(let t=0;t<i;t++){const n=document.createElement("canvas");d[o][t]=n,n.onclick=g;const a=n.getContext("2d"),e=s.width/i,r=s.height/c;a==null||a.drawImage(s,t*e,o*r,e,r,0,0,l*6,l*3),n.classList.add("card"),n.style.width=`${l}px`,n.style.height=`${l}px`,m.appendChild(n)}}};s.src="https://opis-cdn.tinkoffjournal.ru/mercury/oshi-no-ko-in.iuz4lttpehvx..jpg";
